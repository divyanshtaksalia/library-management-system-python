{
  "version": 2,
  "builds": [
    {
      "src": "app.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "app.py"
    }
  ]
}
```eof

### 2. `login.js` ‡§ï‡•ã ‡§µ‡§æ‡§™‡§∏ Flask API ‡§™‡§∞ ‡§≤‡§æ‡§è‡§Å

‡§Ü‡§™‡§ï‡•ã ‡§Ö‡§™‡§®‡•Ä `login.js` ‡§´‡§º‡§æ‡§á‡§≤ ‡§Æ‡•á‡§Ç ‡§µ‡§π ‡§ï‡•ã‡§° ‡§µ‡§æ‡§™‡§∏ ‡§≤‡§æ‡§®‡§æ ‡§π‡•ã‡§ó‡§æ ‡§ú‡•ã `/api/login` ‡§ï‡•ã ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§∏‡§æ‡§• ‡§π‡•Ä **‡§∞‡§ø‡§≤‡•ã‡§° ‡§≤‡•Ç‡§™** ‡§ï‡•ã ‡§†‡•Ä‡§ï ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è `e.preventDefault()` ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡§æ ‡§π‡•ã‡§ó‡§æ‡•§

‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä `login.js` ‡§´‡§º‡§æ‡§á‡§≤ ‡§ï‡•ã ‡§®‡•Ä‡§ö‡•á ‡§¶‡§ø‡§è ‡§ó‡§è ‡§ï‡•ã‡§° ‡§∏‡•á ‡§¨‡§¶‡§≤ ‡§¶‡•á‡§Ç:

```javascript:Login with Flask Backend API (Fixed Submission):login.js
// ‡§Ö‡§¨ ‡§π‡§Æ‡•á‡§Ç Firebase SDK imports ‡§ï‡•Ä ‡§ú‡§º‡§∞‡•Ç‡§∞‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
// import { initializeApp, getAuth, signInWithEmailAndPassword, ... } from ...;

document.getElementById('loginForm').addEventListener('submit', async (e) => {
    // ‡§Ø‡§π ‡§´‡•â‡§∞‡•ç‡§Æ ‡§∏‡§¨‡§Æ‡§ø‡§∂‡§® ‡§ï‡•ã ‡§∞‡•ã‡§ï‡•á‡§ó‡§æ ‡§î‡§∞ ‡§∞‡§ø‡§≤‡•ã‡§° ‡§≤‡•Ç‡§™ ‡§ï‡•ã ‡§π‡§≤ ‡§ï‡§∞‡•á‡§ó‡§æ
    e.preventDefault(); 

    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const messageElement = document.getElementById('message');

    messageElement.style.display = 'none';
    messageElement.className = 'message';
    messageElement.textContent = '';
    
    // ‡§≤‡•â‡§ó‡§ø‡§® ‡§¨‡§ü‡§® ‡§ï‡•ã ‡§Ö‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§°‡§ø‡§∏‡•á‡§¨‡§≤ ‡§ï‡§∞‡•á‡§Ç
    const loginButton = e.currentTarget.querySelector('button[type="submit"]');
    if (loginButton) loginButton.disabled = true;

    try {
        // --- 1. Flask API ‡§ï‡•ã ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç ---
        const response = await fetch('/api/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email, password })
        });

        const data = await response.json();

        if (data.success) {
            messageElement.classList.add('success');
            messageElement.textContent = data.message;

            // --- 2. Local Storage ‡§Æ‡•á‡§Ç ‡§°‡•á‡§ü‡§æ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç ---
            localStorage.setItem('userRole', data.user.role);
            localStorage.setItem('userId', data.user.id);
            localStorage.setItem('username', data.user.username);
            if (data.user.profile_picture_url) {
                localStorage.setItem('profilePictureUrl', data.user.profile_picture_url);
            }

            // --- 3. ‡§∞‡•Ä‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç ---
            if (data.user.role === 'admin') {
                window.location.href = 'admin.html';
            } else {
                window.location.href = 'dashboard.html';
            }
            
            // ‡•û‡§Ç‡§ï‡•ç‡§∂‡§® ‡§∏‡•á ‡§¨‡§æ‡§π‡§∞ ‡§®‡§ø‡§ï‡§≤‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§∞‡§ø‡§≤‡•ã‡§° ‡§® ‡§π‡•ã
            return; 
            
        } else {
            messageElement.classList.add('error');
            messageElement.textContent = data.message;
        }

    } catch (error) {
        console.error('Login failed:', error);
        messageElement.classList.add('error');
        messageElement.textContent = 'Network error: Unable to connect to the Flask server.';
    } finally {
        // ‡§¨‡§ü‡§® ‡§ï‡•ã ‡§µ‡§æ‡§™‡§∏ ‡§á‡§®‡•á‡§¨‡§≤ ‡§ï‡§∞‡•á‡§Ç, ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§∞‡§ø‡§≤‡•ã‡§° ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü ‡§π‡•à
        if (loginButton) loginButton.disabled = false;
    }
});
```eof

---

## üõë ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä

‡§Ø‡§¶‡§ø ‡§Ü‡§™ Flask ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§∞‡§π‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä **`app.py`** ‡§´‡§º‡§æ‡§á‡§≤ ‡§Æ‡•á‡§Ç `/api/login` ‡§∞‡§æ‡§â‡§ü **‡§†‡•Ä‡§ï ‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à** ‡§î‡§∞ `user` ‡§°‡•á‡§ü‡§æ ‡§µ‡§æ‡§™‡§∏ ‡§≠‡•á‡§ú ‡§∞‡§π‡§æ ‡§π‡•à‡•§

‡§∏‡§æ‡§• ‡§π‡•Ä, ‡§Ü‡§™‡§ï‡•ã ‡§â‡§® ‡§∏‡§≠‡•Ä ‡§Ö‡§®‡•ç‡§Ø ‡§´‡§º‡§æ‡§á‡§≤‡•ã‡§Ç (‡§ú‡•à‡§∏‡•á `books.js`, `dashboard.js`, `users.js`) ‡§ï‡•ã **Firebase SDK ‡§ï‡•ã‡§° ‡§∏‡•á ‡§µ‡§æ‡§™‡§∏ Flask API ‡§ï‡•â‡§≤ ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡§®‡§æ ‡§π‡•ã‡§ó‡§æ**‡•§

‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡•à‡§Ç ‡§Ö‡§¨ ‡§Ü‡§™‡§ï‡•Ä **`books.js`** ‡§´‡§º‡§æ‡§á‡§≤ ‡§ï‡•ã ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•Ç‡§Å ‡§§‡§æ‡§ï‡§ø ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§π‡•ã ‡§∏‡§ï‡•á ‡§ï‡§ø ‡§Ø‡§π ‡§≠‡•Ä Flask API ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞ ‡§∞‡§π‡•Ä ‡§π‡•à, ‡§® ‡§ï‡§ø Firebase SDK ‡§ï‡§æ?
